name: PR Coverage Report
on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  report:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Download Reports
        uses: actions/download-artifact@v4
        with:
          name: coverage-reports

      - name: Create PR Comment
        uses: marocchino/sticky-pull-request-comment@v2
        with:
          recreate: true
          message: |
            ## ğŸ“Š Coverage & Mutation Report
            ### ğŸ”¹ JaCoCo Coverage
            âœ” RelatÃ³rio HTML disponÃ­vel como artifact  
            ğŸš¨ Cobertura mÃ­nima exigida: **70%**  
            
            ### ğŸ§¬ PIT Mutation
            âœ” MutaÃ§Ã£o executada  
            âš  Pode falhar sem bloquear PR  

            ### ğŸ“ Artifacts
            ğŸ‘‰ **Baixe aqui no menu lateral do PR**  
